<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPG Teste Local</title>
</head>
<body>
    <h1>EPG Teste Local</h1>
    <div id="epg"></div>

    <script>
        const xmlData = `
        <tv>
            <programme start="20240911060000 +0000" stop="20240911080000 +0000">
                <title>Programa Exemplo 1</title>
            </programme>
            <programme start="20240911080000 +0000" stop="20240911100000 +0000">
                <title>Programa Exemplo 2</title>
            </programme>
        </tv>`;

        // Função para carregar e processar o XML local
        function loadEPG() {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlData, 'application/xml');

            const epgElement = document.getElementById('epg');
            const programmes = xmlDoc.getElementsByTagName('programme');

            // Iterar pelos programas e exibir na página
            for (let i = 0; i < programmes.length; i++) {
                const program = programmes[i];
                const startTime = program.getAttribute('start');
                const stopTime = program.getAttribute('stop');
                const title = program.getElementsByTagName('title')[0].textContent;

                const programDiv = document.createElement('div');
                programDiv.classList.add('program');

                const timeDiv = document.createElement('div');
                timeDiv.classList.add('program-time');
                timeDiv.textContent = `Início: ${startTime} | Fim: ${stopTime}`;

                const titleDiv = document.createElement('div');
                titleDiv.classList.add('program-title');
                titleDiv.textContent = title;

                programDiv.appendChild(titleDiv);
                programDiv.appendChild(timeDiv);

                epgElement.appendChild(programDiv);
            }
        }

        // Carregar a EPG local
        loadEPG();
    </script>
</body>
</html>
